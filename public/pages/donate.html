<!-- Donations - Gallery of Causes -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donations | AidSync</title>
    <link rel="icon" href="../assets/logos/logito.ico" type="image/x-icon">
    <!-- Preload fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../../src/components/css/header.css">
    <link rel="stylesheet" href="../../src/components/css/footer.css">
    <link rel="stylesheet" href="../css/donate.css">
    <link rel="stylesheet" href="../css/donation-modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script defer src="../js/donate.js"></script>
</head>
<body>
  <!-- Header -->
  <div id="header-container"></div>
  <main class="donate-main">
   
    <h1>Make Your Donation Today</h1>
    
    <div class="donate-filters">
      <button class="filter-btn active" data-category="all">All</button>
      <button class="filter-btn" data-category="welfare">Social Welfare</button>
      <button class="filter-btn" data-category="health">Health</button>
      <button class="filter-btn" data-category="education">Education</button>
      <button class="filter-btn" data-category="environment">Environment</button>
    </div>
    
    <section class="donate-gallery" id="donate-gallery">
      <!-- Cards generated by JavaScript -->
    </section>
  </main>
  <!-- Donation Modal -->
  <div id="donate-modal" class="donate-modal" aria-hidden="true" tabindex="-1">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close">&times;</button>
      <div class="modal-body">
        <!-- Dynamic content -->
      </div>
    </div>
  </div>
  <!-- Footer -->
  <div id="footer-container"></div>
  
  <!-- Scripts -->
  <script src="../../src/components/js/loader.js" type="module"></script>
  <script>
    // Load header and footer (matching index.html implementation)
    fetch('../../src/components/html/header.html')
      .then(r => r.text())
      .then(h => {
        const headerContainer = document.getElementById('header-container');
        if (headerContainer) {
          headerContainer.innerHTML = h;
          // Load header script
          const headerScript = document.createElement('script');
          headerScript.src = '../../src/components/js/header.js';
          document.body.appendChild(headerScript);
        }
      })
      .catch(e => console.error('Error loading header:', e));

    fetch('../../src/components/html/footer.html')
      .then(r => r.text())
      .then(f => {
        const footerContainer = document.getElementById('footer-container');
        if (footerContainer) {
          footerContainer.innerHTML = f;
        }
      })
      .catch(e => console.error('Error loading footer:', e));
  </script>
  
  <script>
    // Theme toggle functionality
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = themeToggle.querySelector('i');
    const themeText = themeToggle.querySelector('span');
    
    // Check for saved user preference, if any, on load
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    updateThemeButton(savedTheme);

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeButton(newTheme);
    });

    // Update button icon and text based on theme
    function updateThemeButton(theme) {
      if (theme === 'dark') {
        themeIcon.className = 'fas fa-sun';
        themeText.textContent = 'Light Mode';
      } else {
        themeIcon.className = 'fas fa-moon';
        themeText.textContent = 'Dark Mode';
      }
    }
  </script>
</body>
</html>
